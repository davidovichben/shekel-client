@use '../../../../../variables' as *

.payment-details-form
  display: flex
  flex-direction: column
  gap: 20px

.form-row
  display: flex
  gap: 16px

  .form-group
    flex: 1

.form-group
  display: flex
  flex-direction: column

  &.full-width
    width: 100%

  label
    margin-bottom: 8px
    font-size: 13px
    color: $gray-700

  input
    padding: 12px 14px
    border: 1px solid $gray-300
    border-radius: 8px
    font-size: 14px
    background: white
    text-align: right
    direction: rtl

    &:focus
      outline: none
      border-color: $header-bg

    &::placeholder
      color: $gray-500

    &[type="number"]
      -moz-appearance: textfield

      &::-webkit-outer-spin-button,
      &::-webkit-inner-spin-button
        -webkit-appearance: none
        margin: 0

.amount-input
  position: relative

  input
    width: 100%
    padding-right: 30px
    box-sizing: border-box

  .currency
    position: absolute
    right: 12px
    top: 50%
    transform: translateY(-50%)
    font-size: 14px
    color: $gray-700
    pointer-events: none

.payment-method-section
  display: flex
  align-items: center
  gap: 16px

  .section-label
    font-size: 13px
    color: $gray-700

.payment-method-options
  display: flex
  gap: 24px

.radio-option
  display: flex
  align-items: center
  gap: 8px
  cursor: pointer
  font-size: 14px
  color: $text-dark

  input[type="radio"]
    width: 16px
    height: 16px
    accent-color: $header-bg

.credit-card-section
  margin-top: 8px

.use-saved-card-toggle
  display: flex
  align-items: center
  gap: 12px
  margin-bottom: 16px
  font-size: 14px
  color: $text-dark
  flex-direction: row-reverse
  justify-content: flex-end

.toggle
  position: relative
  display: inline-block
  width: 44px
  height: 24px

  input
    opacity: 0
    width: 0
    height: 0

  .slider
    position: absolute
    cursor: pointer
    top: 0
    left: 0
    right: 0
    bottom: 0
    background-color: $gray-300
    transition: 0.3s
    border-radius: 24px

    &::before
      position: absolute
      content: ""
      height: 18px
      width: 18px
      left: 3px
      bottom: 3px
      background-color: white
      transition: 0.3s
      border-radius: 50%

  input:checked + .slider
    background-color: #28a745

  input:checked + .slider::before
    transform: translateX(20px)

.loading-cards
  display: flex
  flex-direction: column
  align-items: center
  justify-content: center
  padding: 40px 20px
  gap: 12px
  color: $gray-700
  font-size: 14px

  i
    font-size: 24px
    color: $header-bg

.no-cards-message
  padding: 40px 20px
  text-align: center
  color: $gray-700
  font-size: 14px

  p
    margin: 8px 0

.saved-cards
  display: flex
  gap: 16px
  flex-wrap: wrap
  animation: fadeIn 0.3s ease-out

.btn-charge
  display: flex
  align-items: center
  justify-content: center
  gap: 8px
  width: fit-content
  padding: 12px 24px
  margin-top: 16px
  border: none
  border-radius: 8px
  font-size: 14px
  font-weight: 600
  cursor: pointer
  background: $header-bg
  color: white
  transition: all 0.2s ease

  &:hover:not(:disabled)
    filter: brightness(0.95)

  &:disabled
    opacity: 0.6
    cursor: not-allowed

  i
    font-size: 14px

.charge-success
  display: flex
  align-items: center
  gap: 8px
  width: fit-content
  padding: 12px 20px
  margin-top: 16px
  background: #e8f5e9
  border-radius: 8px
  color: #2e7d32
  font-size: 14px
  font-weight: 500

  i
    font-size: 16px

.charge-error
  display: flex
  align-items: center
  gap: 8px
  width: fit-content
  padding: 10px 16px
  margin-top: 12px
  background: #ffebee
  border-radius: 8px
  color: #c62828
  font-size: 13px

  i
    font-size: 14px

.new-card-form
  display: flex
  flex-direction: column
  gap: 16px
  animation: slideIn 0.3s ease-out

@keyframes fadeIn
  from
    opacity: 0
  to
    opacity: 1

@keyframes slideIn
  from
    opacity: 0
    transform: translateY(-10px)
  to
    opacity: 1
    transform: translateY(0)

.card-number-input
  position: relative

  i
    position: absolute
    right: 14px
    top: 50%
    transform: translateY(-50%)
    color: $gray-500
    font-size: 16px

  .input-icon
    position: absolute
    right: 14px
    top: 50%
    transform: translateY(-50%)
    width: 18px
    height: 18px
    object-fit: contain

  input
    width: 100%
    padding-right: 44px
    box-sizing: border-box
    direction: ltr
    text-align: left

.save-card-section
  margin-top: 8px
  padding: 16px
  background: $bg-dialog
  border-radius: 8px

.save-card-toggle
  display: flex
  align-items: center
  gap: 12px
  font-size: 14px
  color: $text-dark
  flex-direction: row-reverse
  justify-content: flex-end

.recommended-badge
  background: #e8f5e9
  color: #2e7d32
  padding: 4px 8px
  border-radius: 4px
  font-size: 12px
  font-weight: 600

.save-card-note
  margin: 12px 0 0
  font-size: 12px
  color: $gray-700
  line-height: 1.5

.btn-save-card
  display: flex
  align-items: center
  justify-content: center
  gap: 8px
  width: 100%
  padding: 12px 20px
  margin-top: 16px
  border: none
  border-radius: 8px
  font-size: 14px
  font-weight: 600
  cursor: pointer
  background: $header-bg
  color: white
  transition: all 0.2s ease

  &:hover:not(:disabled)
    filter: brightness(0.95)

  &:disabled
    opacity: 0.6
    cursor: not-allowed

  &.saved
    background: #28a745
    cursor: default

  .btn-spinner
    width: 16px
    height: 16px
    border: 2px solid rgba(255, 255, 255, 0.3)
    border-top-color: white
    border-radius: 50%
    animation: spin 0.8s linear infinite

@keyframes spin
  to
    transform: rotate(360deg)

.iframe-loading,
.iframe-error
  display: flex
  flex-direction: column
  align-items: center
  justify-content: center
  gap: 12px
  min-height: 200px
  color: $gray-700

  span
    font-size: 14px

  i
    font-size: 24px
    color: $header-bg

.iframe-error
  .btn-retry
    background: $header-bg
    color: white
    border: none
    border-radius: 6px
    padding: 8px 16px
    font-size: 14px
    cursor: pointer

    &:hover
      filter: brightness(0.95)

.card-saved-message
  display: flex
  align-items: center
  justify-content: center
  gap: 8px
  padding: 12px
  margin-top: 12px
  background: #e8f5e9
  border-radius: 8px
  color: #2e7d32
  font-size: 14px
  font-weight: 500

  i
    font-size: 18px

.charge-complete-view
  display: flex
  flex-direction: column
  align-items: center
  justify-content: center
  min-height: 300px
  animation: fadeIn 0.3s ease-out

.card-saved-success
  display: flex
  flex-direction: column
  align-items: center
  justify-content: center
  gap: 12px
  padding: 40px 20px
  text-align: center

  i
    font-size: 64px
    color: #28a745

  span
    font-size: 20px
    font-weight: 600
    color: $text-dark

  p
    margin: 0
    font-size: 14px
    color: $gray-700

.btn-continue
  display: flex
  align-items: center
  justify-content: center
  gap: 8px
  padding: 14px 32px
  border: none
  border-radius: 8px
  font-size: 16px
  font-weight: 600
  cursor: pointer
  background: $header-bg
  color: white
  transition: all 0.2s ease

  &:hover
    filter: brightness(0.95)

  i
    font-size: 14px

.iframe-view
  display: flex
  flex-direction: column
  gap: 12px

.btn-back
  display: flex
  align-items: center
  gap: 6px
  padding: 8px 16px
  border: 1px solid $gray-300
  border-radius: 8px
  background: white
  color: $text-dark
  font-size: 14px
  cursor: pointer
  width: fit-content
  transition: all 0.2s ease

  &:hover
    background: $gray-100
    border-color: $gray-500

  i
    font-size: 12px

.iframe-instruction
  margin: 8px 0
  font-size: 13px
  color: $gray-700
  text-align: center

.btn-payment-submitted
  display: flex
  align-items: center
  justify-content: center
  gap: 8px
  width: 100%
  padding: 14px 20px
  border: none
  border-radius: 8px
  font-size: 15px
  font-weight: 600
  cursor: pointer
  background: #28a745
  color: white
  transition: all 0.2s ease

  &:hover
    background: #218838

  i
    font-size: 16px

.payment-processing
  display: flex
  flex-direction: column
  align-items: center
  justify-content: center
  gap: 16px
  padding: 60px 20px
  text-align: center
  animation: fadeIn 0.3s ease-out

  i
    font-size: 48px
    color: $header-bg

  span
    font-size: 18px
    font-weight: 600
    color: $text-dark

  p
    margin: 0
    font-size: 14px
    color: $gray-700

// Masav Section
.masav-section
  margin-top: 16px
  animation: fadeIn 0.3s ease-out

.bank-details-display
  padding: 16px
  border: 1px solid $gray-300
  border-radius: 8px
  background: white

  h4
    margin: 0 0 16px
    font-size: 15px
    font-weight: 600
    color: $text-dark

.bank-details-grid
  display: grid
  grid-template-columns: repeat(2, 1fr)
  gap: 12px
  margin-bottom: 16px

.bank-detail-item
  display: flex
  flex-direction: column
  gap: 4px

  .label
    font-size: 12px
    color: $gray-700

  .value
    font-size: 14px
    font-weight: 500
    color: $text-dark
    direction: ltr
    text-align: right

.new-bank-form
  padding: 16px
  border: 1px solid $gray-300
  border-radius: 8px
  background: white

  h4
    margin: 0 0 16px
    font-size: 15px
    font-weight: 600
    color: $text-dark

  .ltr-input
    direction: ltr
    text-align: left

.btn-save-bank
  display: flex
  align-items: center
  justify-content: center
  gap: 8px
  width: 100%
  padding: 12px 24px
  margin-top: 16px
  border: none
  border-radius: 8px
  font-size: 14px
  font-weight: 600
  cursor: pointer
  background: $header-bg
  color: white
  transition: all 0.2s ease

  &:hover:not(:disabled)
    filter: brightness(0.95)

  &:disabled
    opacity: 0.6
    cursor: not-allowed

  i
    font-size: 14px
