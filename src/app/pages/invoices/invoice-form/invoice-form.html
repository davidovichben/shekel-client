<div class="dialog-backdrop">
  <div class="dialog-container">
    <app-dialog-header
      [title]="isEditMode ? 'עריכת חשבונית' : 'יצירת חשבונית חדשה'"
      (close)="onClose()">
    </app-dialog-header>

    <form (ngSubmit)="onSubmit()">
      <div class="form-content">
        <div class="form-grid">
          <!-- Row 1 -->
          <div class="form-group">
            <label class="required">לקוח:</label>
            <app-member-autocomplete
              [memberName]="invoice.fullName"
              (memberSelected)="onMemberSelected($event)"
              placeholder="חיפוש לקוח..."
            ></app-member-autocomplete>
          </div>
          <div class="form-group">
            <label class="required">סוג חשבונית:</label>
            <app-custom-select
              [options]="invoiceTypeOptions"
              [(value)]="invoice.invoiceType"
              placeholder="בחר סוג חשבונית"
            ></app-custom-select>
          </div>

          <!-- Row 2 -->
          <div class="form-group">
            <label>סכום:</label>
            <div class="amount-input">
              <input type="number" [(ngModel)]="invoice.amount" name="amount" placeholder="">
              <span class="currency">ש"ח</span>
            </div>
          </div>
          <div class="form-group">
            <label class="required">תאריך:</label>
            <input type="date" [(ngModel)]="invoice.gregorianDate" name="gregorianDate">
          </div>

          <!-- Row 3 -->
          <div class="form-group full-width">
            <label>תיאור:</label>
            <input type="text" [(ngModel)]="invoice.description" name="description" placeholder="">
          </div>
        </div>
      </div>

      <div class="form-actions">
        <button type="submit" class="btn-primary" [disabled]="isSubmitting">
          <span class="btn-icon">
            <img src="/assets/icons/save-icon.svg" alt="Save" />
          </span>
          {{ isSubmitting ? 'שומר...' : (isEditMode ? 'עדכן חשבונית' : 'צור חשבונית') }}
        </button>
      </div>
    </form>
  </div>
</div>
