<div class="custom-select" [class.disabled]="disabled">
  <button type="button" class="select-trigger" (click)="toggle(); $event.stopPropagation()" [disabled]="disabled">
    <span>
      @if (prefix) {
        {{ prefix }}: <span class="selected-value">{{ selectedLabel }}</span>
      } @else {
        {{ selectedLabel }}
      }
    </span>
    <i class="fa-solid" [class.fa-chevron-up]="sortOrder === 'asc'" [class.fa-chevron-down]="!sortOrder || sortOrder === 'desc'" [class.open]="isOpen && !sortOrder"></i>
  </button>

  @if (isOpen) {
    <div 
      #selectMenu
      class="select-menu" 
      [ngStyle]="menuStyle"
      (click)="$event.stopPropagation()">
      @for (option of options; track option.value) {
        <button
          type="button"
          class="select-option"
          [class.active]="value === option.value"
          (click)="select(option); $event.stopPropagation()">
          {{ option.label }}
        </button>
      }
    </div>
  }
</div>
