<div class="custom-select" [class.disabled]="disabled">
  <button type="button" class="select-trigger" (click)="toggle(); $event.stopPropagation()" [disabled]="disabled">
    <span>
      @if (prefix) {
        {{ prefix }}: <span class="selected-value">{{ selectedLabel }}</span>
      } @else {
        {{ selectedLabel }}
      }
    </span>
    <i class="fa-solid fa-chevron-down" [class.open]="isOpen"></i>
  </button>

  @if (isOpen) {
    <div class="select-menu" (click)="$event.stopPropagation()">
      @for (option of options; track option.value) {
        <button
          type="button"
          class="select-option"
          [class.active]="value === option.value"
          (click)="select(option); $event.stopPropagation()">
          {{ option.label }}
        </button>
      }
    </div>
  }
</div>
