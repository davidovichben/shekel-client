<div class="data-table-container">
  <div class="table-container">
    <table>
      <thead>
        <tr>
          @if (showRowNumber) {
            <th class="col-number">#</th>
          }
          @if (showCheckbox) {
            <th class="col-checkbox"><input type="checkbox"></th>
          }
          @for (col of columns; track col.key) {
            <th [class]="col.class || ''">{{ col.label }}</th>
          }
        </tr>
      </thead>
      <tbody>
        @if (isLoading) {
          <tr>
            <td [attr.colspan]="colSpan" class="loading-cell">
              <div class="spinner"></div>
            </td>
          </tr>
        } @else {
          <ng-content></ng-content>
        }
      </tbody>
    </table>
  </div>

  <!-- Pagination -->
  @if (totalPages > 1) {
    <div class="pagination">
      <button class="page-btn" (click)="goToPage(1)" [disabled]="currentPage === 1">
        <i class="fa-solid fa-angles-right"></i>
      </button>
      <button class="page-btn" (click)="goToPage(currentPage - 1)" [disabled]="currentPage === 1">
        <i class="fa-solid fa-angle-right"></i>
      </button>

      @for (page of getPageNumbers(); track page) {
        <button
          class="page-btn"
          [class.active]="page === currentPage"
          (click)="goToPage(page)">
          {{ page }}
        </button>
      }

      <button class="page-btn" (click)="goToPage(currentPage + 1)" [disabled]="currentPage === totalPages">
        <i class="fa-solid fa-angle-left"></i>
      </button>
      <button class="page-btn" (click)="goToPage(totalPages)" [disabled]="currentPage === totalPages">
        <i class="fa-solid fa-angles-left"></i>
      </button>
    </div>
  }
</div>
