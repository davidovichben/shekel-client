@use '../../../../variables' as *

.stats-panel
  background: white
  border-radius: 8px
  padding: 19px 10px 0px 0px
  position: sticky
  top: 1rem
  max-height: calc(100vh - 2rem)
  overflow-y: auto

  .stats-header
    margin-bottom: 10px
    direction: rtl

    h2
      margin: 0
      font-size: 1.25rem
      font-weight: 600
      color: $text-primary-old
      font-family: $font-family

  .stats-section
    margin-bottom: 18px
    direction: rtl
    text-align: center

    h3
      margin: 0 0 1rem
      font-size: 14px
      font-weight: 500
      color: $text-primary-old
      font-family: $font-family
      text-align: center

  .distribution-chart-container
    display: flex
    align-items: center
    gap: 1.5rem
    margin-top: 1rem
    justify-content: center

  .total-amount-section
    display: flex
    flex-direction: column
    gap: 0.25rem
    text-align: right

    .total-amount-label
      font-size: 0.9rem
      color: $text-primary-old
      font-family: $font-family

    .total-amount-value
      font-size: 18px
      font-weight: 400
      color: $text-primary-old
      font-family: $font-family
      display: flex
      align-items: baseline
      justify-content: flex-end

      .total-label
        font-size: 16px
        font-weight: 400
        color: $text-primary-old
        margin-left: 0.25rem

      .amount-value
        font-size: 18px
        font-weight: 600
        color: $text-primary-old

      .amount-currency
        font-size: 14px
        font-weight: 600
        color: $text-primary-old
        margin-right: 0.25rem

  .donut-chart
    width: 80px
    height: 80px
    flex-shrink: 0
    position: relative

  .category-list
    display: grid
    grid-template-columns: 40px 1fr 2fr
    gap: 0
    margin-top: 1rem

  .category-item
    display: contents

    .category-percentage
      color: $text-primary-old
      text-align: left
      justify-content: center
      font-size: 12px
      grid-column: 1
      display: flex
      align-items: center
      padding: 5px

    .category-amount
      color: $text-primary-old
      font-weight: 500
      justify-content: center
      font-size: 12px
      border-right: 1px solid #e0e0e0
      grid-column: 2
      display: flex
      align-items: center

    .category-label-wrapper
      grid-column: 3
      display: flex
      padding-right: 10px
      align-items: center
      gap: 0.5rem
      border-right: 1px solid #e0e0e0

    .category-dot
      width: 12px
      height: 12px
      border-radius: 50%
      flex-shrink: 0

    .category-label
      color: $text-primary-old
      text-align: right
      font-size: 12px

  .trend-chart
    display: flex
    justify-content: space-between
    align-items: flex-end
    height: 150px
    margin-top: 1rem
    gap: 0.5rem
    padding-top: 30px
    direction: rtl

  .trend-bar-container
    flex: 1
    display: flex
    flex-direction: column
    align-items: center
    gap: 0.5rem
    position: relative

  .trend-bar
    width: 87%
    background: $chart-gray-light
    border-radius: 40px 40px 0 0
    min-height: 30px
    transition: background 0.2s

    &.active
      background: $chart-blue-dark

    &:hover
      background: $chart-gray-medium

  .bar-info
    display: flex
    flex-direction: column
    align-items: center
    gap: 0.25rem
    margin-top: 0.5rem

  .bar-amount
    font-size: 0.7rem
    font-weight: 600
    color: $text-primary-old
    font-family: $font-family
    white-space: nowrap

  .bar-month
    font-size: 0.75rem
    color: $text-primary-old
    font-family: $font-family

  .unpaid-chart-container
    display: flex
    flex-direction: column
    align-items: center
    gap: 1rem
    margin-top: 1rem

  .unpaid-amount
    font-size: 1.5rem
    font-weight: 600
    color: $text-primary-old
    font-family: $font-family
    display: flex
    align-items: baseline
    justify-content: center

    .amount-value
      font-size: 1.5rem
      font-weight: 600
      color: $text-primary-old

    .amount-currency
      font-size: 1rem
      font-weight: 600
      color: $text-primary-old
      margin-right: 0.25rem

  .unpaid-circle-wrapper
    position: relative
    width: 100px
    height: 100px
    display: flex
    align-items: center
    justify-content: center

  .unpaid-circle-ring
    position: absolute
    top: 0
    left: 0
    z-index: 0

  .unpaid-circle-center
    position: absolute
    top: 50%
    left: 50%
    transform: translate(-50%, -50%)
    z-index: 2
    display: flex
    flex-direction: column
    align-items: center
    border-radius: 50%
    background-color: $btn-primary
    justify-content: center
    gap: 4px
    width: 66px
    height: 66px

    .circle-percentage
      display: flex
      align-items: baseline
      justify-content: center
      font-size: 1.25rem
      font-weight: 400
      color: white
      font-family: $font-family
      line-height: 1
      text-align: center

      .circle-number
        font-size: 1.25rem
        font-weight: 400

      .circle-percent-sign
        font-size: 0.9rem
        margin-right: 0.1rem

    .circle-label
      font-size: 0.75rem
      color: white
      font-family: $font-family
      line-height: 1
      text-align: center

